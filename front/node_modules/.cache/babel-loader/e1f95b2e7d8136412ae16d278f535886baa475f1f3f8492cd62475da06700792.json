{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Program/Desktop/Programaci\\xF3n/Soy Henry/M3/FT-M3-master/02-WebServer/rick_and_morty/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Program/Desktop/Programaci\\xF3n/Soy Henry/M3/FT-M3-master/02-WebServer/rick_and_morty/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import Cards from'./components/Cards/Cards.jsx';import Nav from'./components/Nav/Nav.jsx';import About from'./components/About/About.jsx';import Detail from'./components/Detail/Detail.jsx';import Form from'./components/Form/Form.jsx';import Error from'./components/Error/Error.jsx';import Favorites from'./components/Favorites/Favorites.jsx';import{useState,useEffect}from'react';import{Route,Routes,useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),access=_useState4[0],setAccess=_useState4[1];var navigate=useNavigate();var username='@';var password='1';function login(userData){if(userData.password===password&&userData.username===username){setAccess(true);navigate('/home');}}function logout(){setAccess(false);}useEffect(function(){!access&&navigate('/');},[access,navigate]);function onSearch(character){//fetch(`https://rickandmortyapi.com/api/character/${character}`)\nfetch(\"http://localhost:3001/rickandmorty/\".concat(character)).then(function(response){return response.json();}).then(function(data){console.log(data.name);if(data.name){characters.find(function(element){return element.id===data.id;})===undefined?setCharacters(function(characters){return[].concat(_toConsumableArray(characters),[data]);}):alert('Personaje repetido, prueba otro ID.');}else{alert('No hay personajes con ese ID.');}});}function random(){var randomId=Math.floor(Math.random()*826);onSearch(randomId);}function onClose(id){setCharacters(characters.filter(function(element){return element.id!==id;}));}var location=useLocation();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{padding:'25px'},children:[location.pathname!=='/'&&/*#__PURE__*/_jsx(Nav,{onSearch:onSearch,random:random,logout:logout}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Form,{login:login})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",element:/*#__PURE__*/_jsx(Cards,{characters:characters,onClose:onClose})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/favorites\",element:/*#__PURE__*/_jsx(Favorites,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/detail/:detailId\",element:/*#__PURE__*/_jsx(Detail,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Error,{})})]})]});}export default App;","map":{"version":3,"names":["Cards","Nav","About","Detail","Form","Error","Favorites","useState","useEffect","Route","Routes","useLocation","useNavigate","App","characters","setCharacters","access","setAccess","navigate","username","password","login","userData","logout","onSearch","character","fetch","then","response","json","data","console","log","name","find","element","id","undefined","alert","random","randomId","Math","floor","onClose","filter","location","padding","pathname"],"sources":["C:/Users/Program/Desktop/ProgramaciÃ³n/Soy Henry/M3/FT-M3-master/02-WebServer/rick_and_morty/front/src/App.js"],"sourcesContent":["import './App.css';\r\nimport Cards from './components/Cards/Cards.jsx';\r\nimport Nav from './components/Nav/Nav.jsx';\r\nimport About from './components/About/About.jsx';\r\nimport Detail from './components/Detail/Detail.jsx';\r\nimport Form from './components/Form/Form.jsx';\r\nimport Error from './components/Error/Error.jsx';\r\nimport Favorites from './components/Favorites/Favorites.jsx';\r\nimport { useState, useEffect } from 'react';\r\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\r\n\r\nfunction App() {\r\n  const [characters, setCharacters] = useState([]);\r\n  const [access, setAccess] = useState(false);\r\n  const navigate = useNavigate();\r\n  const username = '@';\r\n  const password = '1';\r\n\r\n  function login(userData) {\r\n    if (userData.password === password && userData.username === username) {\r\n      setAccess(true);\r\n      navigate('/home');\r\n    }\r\n  }\r\n\r\n  function logout() {\r\n    setAccess(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    !access && navigate('/');\r\n  }, [access, navigate]);\r\n\r\n  function onSearch(character) {\r\n    //fetch(`https://rickandmortyapi.com/api/character/${character}`)\r\n    fetch(`http://localhost:3001/rickandmorty/${character}`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data.name);\r\n        if (data.name) {\r\n          characters.find((element) => element.id === data.id) === undefined\r\n            ? setCharacters((characters) => [...characters, data])\r\n            : alert('Personaje repetido, prueba otro ID.');\r\n        } else {\r\n          alert('No hay personajes con ese ID.');\r\n        }\r\n      });\r\n  }\r\n\r\n  function random() {\r\n    let randomId = Math.floor(Math.random() * 826);\r\n    onSearch(randomId);\r\n  }\r\n\r\n  function onClose(id) {\r\n    setCharacters(characters.filter((element) => element.id !== id));\r\n  }\r\n\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div className=\"App\" style={{ padding: '25px' }}>\r\n      {location.pathname !== '/' && (\r\n        <Nav onSearch={onSearch} random={random} logout={logout} />\r\n      )}\r\n\r\n      <Routes>\r\n        <Route exact path=\"/\" element={<Form login={login} />}></Route>\r\n        <Route\r\n          exact\r\n          path=\"/home\"\r\n          element={<Cards characters={characters} onClose={onClose} />}\r\n        ></Route>\r\n        <Route exact path=\"/about\" element={<About />}></Route>\r\n        <Route exact path=\"/favorites\" element={<Favorites />}></Route>\r\n        <Route exact path=\"/detail/:detailId\" element={<Detail />}></Route>\r\n        <Route path=\"*\" element={<Error />}></Route>\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"4XAAA,MAAO,WAAW,CAClB,MAAOA,MAAK,KAAM,8BAA8B,CAChD,MAAOC,IAAG,KAAM,0BAA0B,CAC1C,MAAOC,MAAK,KAAM,8BAA8B,CAChD,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAOC,KAAI,KAAM,4BAA4B,CAC7C,MAAOC,MAAK,KAAM,8BAA8B,CAChD,MAAOC,UAAS,KAAM,sCAAsC,CAC5D,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,KAAK,CAAEC,MAAM,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,wFAE3E,QAASC,IAAG,EAAG,CACb,cAAoCN,QAAQ,CAAC,EAAE,CAAC,wCAAzCO,UAAU,eAAEC,aAAa,eAChC,eAA4BR,QAAQ,CAAC,KAAK,CAAC,yCAApCS,MAAM,eAAEC,SAAS,eACxB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,GAAMO,SAAQ,CAAG,GAAG,CACpB,GAAMC,SAAQ,CAAG,GAAG,CAEpB,QAASC,MAAK,CAACC,QAAQ,CAAE,CACvB,GAAIA,QAAQ,CAACF,QAAQ,GAAKA,QAAQ,EAAIE,QAAQ,CAACH,QAAQ,GAAKA,QAAQ,CAAE,CACpEF,SAAS,CAAC,IAAI,CAAC,CACfC,QAAQ,CAAC,OAAO,CAAC,CACnB,CACF,CAEA,QAASK,OAAM,EAAG,CAChBN,SAAS,CAAC,KAAK,CAAC,CAClB,CAEAT,SAAS,CAAC,UAAM,CACd,CAACQ,MAAM,EAAIE,QAAQ,CAAC,GAAG,CAAC,CAC1B,CAAC,CAAE,CAACF,MAAM,CAAEE,QAAQ,CAAC,CAAC,CAEtB,QAASM,SAAQ,CAACC,SAAS,CAAE,CAC3B;AACAC,KAAK,8CAAuCD,SAAS,EAAG,CACrDE,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,CAAC,CACtB,GAAIH,IAAI,CAACG,IAAI,CAAE,CACbnB,UAAU,CAACoB,IAAI,CAAC,SAACC,OAAO,QAAKA,QAAO,CAACC,EAAE,GAAKN,IAAI,CAACM,EAAE,GAAC,GAAKC,SAAS,CAC9DtB,aAAa,CAAC,SAACD,UAAU,qCAASA,UAAU,GAAEgB,IAAI,IAAC,CAAC,CACpDQ,KAAK,CAAC,qCAAqC,CAAC,CAClD,CAAC,IAAM,CACLA,KAAK,CAAC,+BAA+B,CAAC,CACxC,CACF,CAAC,CAAC,CACN,CAEA,QAASC,OAAM,EAAG,CAChB,GAAIC,SAAQ,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACF,MAAM,EAAE,CAAG,GAAG,CAAC,CAC9Cf,QAAQ,CAACgB,QAAQ,CAAC,CACpB,CAEA,QAASG,QAAO,CAACP,EAAE,CAAE,CACnBrB,aAAa,CAACD,UAAU,CAAC8B,MAAM,CAAC,SAACT,OAAO,QAAKA,QAAO,CAACC,EAAE,GAAKA,EAAE,GAAC,CAAC,CAClE,CAEA,GAAMS,SAAQ,CAAGlC,WAAW,EAAE,CAE9B,mBACE,aAAK,SAAS,CAAC,KAAK,CAAC,KAAK,CAAE,CAAEmC,OAAO,CAAE,MAAO,CAAE,WAC7CD,QAAQ,CAACE,QAAQ,GAAK,GAAG,eACxB,KAAC,GAAG,EAAC,QAAQ,CAAEvB,QAAS,CAAC,MAAM,CAAEe,MAAO,CAAC,MAAM,CAAEhB,MAAO,EACzD,cAED,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,IAAI,EAAC,KAAK,CAAEF,KAAM,EAAI,EAAS,cAC/D,KAAC,KAAK,EACJ,KAAK,MACL,IAAI,CAAC,OAAO,CACZ,OAAO,cAAE,KAAC,KAAK,EAAC,UAAU,CAAEP,UAAW,CAAC,OAAO,CAAE6B,OAAQ,EAAI,EACtD,cACT,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,KAAK,IAAI,EAAS,cACvD,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,YAAY,CAAC,OAAO,cAAE,KAAC,SAAS,IAAI,EAAS,cAC/D,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAS,cACnE,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,KAAK,IAAI,EAAS,GACrC,GACL,CAEV,CAEA,cAAe9B,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}